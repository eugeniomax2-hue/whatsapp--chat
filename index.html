<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no" />
  <title>Arthur Macamo ‚Äî Chat</title>
  <meta name="theme-color" content="#075E54"/>
  <style>
    :root{--wa-green:#075E54;--bg:#E5DDD5;--bubble-me:#D9FDD3;--bubble-bot:#FFFFFF;--text:#111;--radius:18px}
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);
      background:var(--bg);height:100svh;min-height:100vh;overflow:hidden;-webkit-text-size-adjust:100%;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="320" viewBox="0 0 320 320"><rect width="100%" height="100%" fill="%23E5DDD5"/><g opacity=".14" stroke="%23bfb6ad" stroke-width="1" fill="none"><path d="M20 40c12-12 36-12 48 0M36 84c12-12 36-12 48 0M88 40c12-12 36-12 48 0M104 84c12-12 36-12 48 0"/><circle cx="52" cy="150" r="14"/><rect x="110" y="150" width="26" height="18" rx="4"/><path d="M190 60c10-8 22-8 32 0M206 92c10-8 22-8 32 0"/><path d="M170 190q16-12 32 0t32 0"/><circle cx="270" cy="70" r="10"/><circle cx="250" cy="240" r="12"/><path d="M30 230c18-10 28-10 46 0M46 262c18-10 28-10 46 0"/></g></svg>');background-size:380px
    }
    .app{position:fixed;inset:0;display:flex;flex-direction:column;height:100%}
    .topbar{background:#075E54;color:#fff;display:flex;align-items:center;gap:10px;padding:max(10px,env(safe-area-inset-top)) 12px 10px 8px}
    .avatar{width:36px;height:36px;border-radius:50%;overflow:hidden;border:2px solid rgba(255,255,255,.25)}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .who{line-height:1.1;display:flex;flex-direction:column}
    .row-name{display:flex;align-items:center;gap:6px}
    .who b{font-size:15px}
    .badge{width:16px;height:16px}
    .who small{color:#d1fae5}
    .chat{flex:1;overflow:auto;padding:10px 10px calc(6px + env(safe-area-inset-bottom)) 10px;-webkit-overflow-scrolling:touch}
    .msg{display:flex;margin:6px 0}
    .msg.bot{justify-content:flex-start}
    .msg.me{justify-content:flex-end}
    .bubble{max-width:78%;padding:10px 12px;border-radius:var(--radius);font-size:15px;line-height:1.35;white-space:pre-wrap;box-shadow:0 1px 0 rgba(0,0,0,.05)}
    .msg.bot .bubble{background:var(--bubble-bot);border-bottom-left-radius:6px}
    .msg.me .bubble{background:var(--bubble-me);border-bottom-right-radius:6px}
    .time{display:inline-block;margin-left:8px;font-size:11px;color:#8f8f8f;vertical-align:bottom}
    .composer{position:sticky;bottom:0;display:flex;gap:8px;align-items:center;padding:10px 10px calc(10px + env(safe-area-inset-bottom)) 10px;background:#f7f7f7;border-top:1px solid #e9ecef}
    .attach-btn,.mic-btn{width:42px;height:42px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;display:grid;place-items:center}
    .attach-btn svg,.mic-btn svg{width:20px;height:20px;opacity:.85}
    .composer input{flex:1;padding:13px 16px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;font-size:17px;line-height:1.2}
    .composer button.send{padding:12px 18px;border-radius:999px;border:0;background:#128C7E;color:#fff;font-weight:700;font-size:17px}
    .img-msg{display:block;max-width:240px;border-radius:12px;margin-bottom:4px}
    .cta{display:inline-block;margin-top:12px;padding:14px 18px;border-radius:12px;background:#25D366;color:#064e3b;font-weight:800;text-decoration:none;min-width:260px;text-align:center}
  </style>
</head>
<body>
  <main class="app">
    <!-- Topo estilo WhatsApp -->
    <header class="topbar">
      <div class="avatar">
        <!-- Coloca um arquivo "avatar.jpg" junto do index.html -->
        <img src="avatar.jpg" alt="Arthur Macamo"/>
      </div>
      <div class="who">
        <div class="row-name">
          <b>Arthur Macamo</b>
          <svg class="badge" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="12" cy="12" r="10" fill="#4FC3F7"/>
            <path d="M16.5 9l-5 6-2.5-2.5" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <small id="status">online agora</small>
      </div>
    </header>

    <!-- √Årea do chat -->
    <section class="chat" id="chat" aria-live="polite"></section>

    <!-- Barra inferior (escrever, anexo, mic, enviar) -->
    <div class="composer">
      <button class="attach-btn" id="attachBtn" aria-label="Anexar foto">
        <svg viewBox="0 0 24 24"><path d="M8 12.5V7a4 4 0 1 1 8 0v7.5a5.5 5.5 0 1 1-11 0V8.5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <button class="mic-btn" id="micBtn" aria-label="Gravar √°udio (visual)">
        <svg viewBox="0 0 24 24"><path d="M12 3a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V6a 3 3 0 0 0-3-3Zm-7 8a7 7 0 0 0 14 0M12 19v3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <input id="input" type="text" placeholder="Escreve aqui..." autocomplete="off" inputmode="text"/>
      <button class="send" id="send">Enviar</button>
      <input type="file" id="file" accept="image/*" capture="environment" style="display:none"/>
    </div>
  </main>

  <script>
    const CTA_URL = "https://wa.me/message/WTBHPX3AUQMEO1";
    const FINAL_MSG = `‚ö†Ô∏è IMPORTANTE: O Grupo Agora √© Apenas para Quem Leva Isso a S√©rio!

Muitas pessoas pedem para entrar no grupo, mas nem todas est√£o realmente interessadas. Algumas entram apenas por curiosidade, n√£o aproveitam nada e acabam atrapalhando quem quer crescer de verdade.

Para evitar isso e garantir um ambiente s√©rio e de qualidade, o acesso agora exige um pagamento simb√≥lico de apenas 1 metical..

üí° Por qu√™?
Apenas para garantir que quem entra realmente valoriza o grupo e est√° comprometido em aproveitar as oportunidades.

üöÄ Se realmente queres fazer parte, clique no bot√£o abaixo e ir√°s receber as formas de pagamento.

Depois de confirmares o pagamento, ser√°s adicionado imediatamente.

Agora a escolha √© tua: ficas de fora ou entras para um ambiente onde as oportunidades s√£o reais?.`;

    const chat = document.getElementById('chat');
    const input = document.getElementById('input');
    const sendBtn = document.getElementById('send');
    const file = document.getElementById('file');
    const attachBtn = document.getElementById('attachBtn');

    function now(){ return new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'}); }
    function escapeHtml(s){ return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }

    function addMsg(who,text){
      const d=document.createElement('div'); d.className='msg '+(who==='me'?'me':'bot');
      const b=document.createElement('div'); b.className='bubble';
      b.innerHTML=escapeHtml(text)+` <span class='time'>${now()}</span>`;
      d.appendChild(b); chat.appendChild(d); chat.scrollTop=chat.scrollHeight;
    }

    function addMsgWithCTA(text,url,label='üëâ Clique aqui para pagar'){
      const d=document.createElement('div'); d.className='msg bot';
      const b=document.createElement('div'); b.className='bubble';
      b.innerHTML=escapeHtml(text)+` <span class='time'>${now()}</span>`;
      const a=document.createElement('a'); a.href=url; a.target='_blank'; a.rel='noopener'; a.className='cta'; a.textContent=label;
      a.addEventListener('click', () => {
        try { fbq('track', 'Purchase', {value: 1.00, currency: 'MZN', content_name: 'acesso_grupo_1mt'}); } catch(e) {}
      });
      b.appendChild(a);
      d.appendChild(b);
      chat.appendChild(d);
      chat.scrollTop=chat.scrollHeight;
    }

    window.addEventListener('DOMContentLoaded', () => {
      addMsgWithCTA(FINAL_MSG, CTA_URL);
    });

    // Entrada do usu√°rio (visual)
    sendBtn.addEventListener('click', () => {
      const v=input.value.trim(); if(!v) return;
      input.value=''; addMsg('me', v);
    });
    input.addEventListener('keydown', (e) => { if(e.key==='Enter'){ e.preventDefault(); sendBtn.click(); } });
    attachBtn.addEventListener('click', () => file.click());
    file.addEventListener('change', (e) => {
      const f=e.target.files[0]; if(!f) return;
      const reader=new FileReader();
      reader.onload=(ev)=>{
        const d=document.createElement('div'); d.className='msg me';
        const b=document.createElement('div'); b.className='bubble';
        const img=new Image(); img.src=ev.target.result; img.className='img-msg';
        b.appendChild(img); b.innerHTML+=` <span class='time'>${now()}</span>`;
        d.appendChild(b); chat.appendChild(d); chat.scrollTop=chat.scrollHeight;
      };
      reader.readAsDataURL(f); e.target.value='';
    });
  </script>

  <!-- Meta Pixel -->
  <script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1828238448117261');  // teu Pixel ID
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1828238448117261&ev=PageView&noscript=1"
  /></noscript>
</body>
</html>
